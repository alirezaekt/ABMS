<html>
<title>A BMS</title>
<meta charset="UTF-8">
<meta name="author" content="AlirezaEkt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="../stylesheets/bootstrap.css">
<link rel="stylesheet" href="../stylesheets/mine.css">
<link rel="stylesheet" href="../stylesheets/bootstrap.min.css">
<link rel="stylesheet" href="../stylesheets/bootstrap-toggle.min.css">

<script src="../javascripts/jquery-slim.js"></script>
<script src="../javascripts/popper.js"></script>
<script src="../javascripts/bootstrap.js"></script>
<script src="../javascripts/bootstrap-toggle.min.js"></script>

<body>
<!-- Navigation Bar -->
<nav class="navbar navbar-expand-sm navbar-light bg-light">
   <a class="navbar-brand" href="#">
    <img src="../images/logo.svg" width="30" height="30" class="d-inline-block align-top" alt="">
    BMS
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="/"><span style="color:#007bff"><b>Home</b></span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="voip">Contacts</a>
      </li>
        <li class="nav-item">
            <a class="nav-link" href="videocalltest">VideoCall</a>
        </li>
      <li class="nav-item">
        <a class="nav-link" href="settings">Settings</a>
      </li>
    </ul>  
  </div>
</nav>

<!-- Content -->
<div class="container">
    <div class="row rowmine">   
        <div class="col-sm-6 col-md-4 col-lg-3 text-center ">
            <div class="smartnode">
            Room1 <span>light1<br></span>
            <img src="../images/small-light-bulb.png" class="  nodeicon" alt="Responsive image" >
            <br><input type="checkbox"  data-toggle="toggle" id="r1l1">
            </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3 text-center ">
            <div class="smartnode">
            Room1 <span style="">temperature<br></span>
            <img src="../images/thermometer.svg" class="  nodeicon" alt="Responsive image" >
            <span class="nodeinfo" id="r1t1">23Â°C</span>
            </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3 text-center ">
            <div class="smartnode">
                Room1 <span>light2<br></span>
                <img src="../images/bell-ringing.svg" class="  nodeicon" alt="Responsive image" >
                <br>
                <button id="r1l2">Ping</button>
            </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3 text-center ">
            <div class="smartnode">
           Room1 <span>Fan<br></span>
            <img src="../images/fan-propellers.svg" class="  nodeicon" alt="Responsive image" >
            <br><input type="checkbox" checked data-toggle="toggle" id="r1f1">
            </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3 text-center ">
            <div class="smartnode">
            Room2 <span>light1<br></span>
            <img src="../images/small-light-bulb.png" class="  nodeicon" alt="Responsive image" >
            <br><input type="checkbox" checked data-toggle="toggle" id="r2l1">
            </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3 text-center ">
            <div class="smartnode">
            Room2 <span>light2<br></span>
            <img src="../images/small-light-bulb.png" class="  nodeicon" alt="Responsive image" >
            <br><input type="checkbox" checked data-toggle="toggle" id="r2l22"><input type="checkbox" checked data-toggle="toggle"><input type="checkbox" unchecked data-toggle="toggle">
            </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3 text-center ">
            <div class="smartnode">
            Room3 <span >valve<br></span>
            <img src="../images/industrial-pipe.svg" class="  nodeicon" alt="Responsive image" >
            <br><input type="checkbox" checked data-toggle="toggle" id="r3v1">
            </div>
        </div>    
        <div class="col-sm-6 col-md-4 col-lg-3 text-center ">
            <div class="smartnode">
            Room3 <span>light1<br></span>
            <img src="../images/small-light-bulb.png" class="  nodeicon" alt="Responsive image" >
            <br>
            <div class="progress" id="r3p1"><div class="progress-bar" role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div></div>
            </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3 text-center ">
            <div class="smartnode">
                Room3 <span>Curtain<br></span>
                <img src="../images/livingroom-curtain.svg" class="  nodeicon" alt="Responsive image" >
                <br><input type="checkbox" checked data-toggle="toggle" id="r3c1">
            </div>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-3 text-center ">
            <div class="smartnode">
                Humidity Sensor <span><br></span>
                <img src="../images/humidity.svg" class="  nodeicon" alt="Responsive image" >
                <span class="nodeinfo" id="humsensor">34%</span>
            </div>
        </div>

    </div>
</div>

</body>

<script>
    $(".progress").click(function(e){
        var parentOffset = $(this).parent().offset();
        var relX = e.pageX - parentOffset.left;
        var percentageWitdth = parseInt(((relX-14)*100) / (parseInt($(this).css("width").split("px")[0])));
        $(this).children('.progress-bar').css({"width":percentageWitdth+"%"});
        $.ajax({
            url:''
        });
    });
</script>

<script src="../javascripts/socket.io.js"></script>

<script>
    $('#lgg').click(function () {
        console.log("dokm")
    });
    $('body').on("click",".toggle",function () {
        if($(this).children('#r1l1')[0] !== undefined && $(this).children('#r1l1') !== "undefined")
        {
            if( this.className.split("off").length ===2){
                console.log("1on")
                $.ajax({
                    url:'/serialp'
                });
            }
            if( this.className.split("off").length ===1){
                console.log("1of")
                $.ajax({
                    url:'/serialp2'
                });
            }
        }
        if($(this).children('#r2l1')[0] !== undefined && $(this).children('#r2l1') !== "undefined")
        {
            if( this.className.split("off").length ===2){
                console.log("2onnn")
            }
            if( this.className.split("off").length ===1){
                console.log("2offf")
            }
        }
    });

</script>
<!--<script>-->
    <!--var socket = io(); //load socket.io-client and connect to the host that serves the page-->
    <!--window.addEventListener("load", function(){ //when page loads-->
        <!--var lightbox = document.getElementById("light");-->
        <!--lightbox.addEventListener("change", function() { //add event listener for when checkbox cha$-->
            <!--socket.emit("light",Number(this.checked)); //send button status to server (as 1 or 0)-->
        <!--});-->
    <!--});-->
    <!--socket.on('light', function (data) { //get button status from client-->
        <!--document.getElementById("light").checked = data; //change checkbox according to push button$-->
        <!--socket.emit("light", data); //send push button status to back to server-->
    <!--});-->

    <!--window.addEventListener("load", function(){ //when page loads-->
        <!--var lightbox2 = document.getElementById("light2");-->
        <!--lightbox2.addEventListener("change", function() { //add event listener for when checkbox cha$-->
            <!--socket.emit("light2",Number(this.checked)); //send button status to server (as 1 or 0)-->
        <!--});-->
    <!--});-->
    <!--socket.on('light2', function (data) { //get button status from client-->
        <!--document.getElementById("light2").checked = data; //change checkbox according to push button$-->
        <!--socket.emit("light2", data); //send push button status to back to server-->
    <!--});-->
<!--</script>-->
</html>